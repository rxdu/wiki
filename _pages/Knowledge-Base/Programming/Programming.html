<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-47255965-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <!-- <title>Programming &mdash; RDU-Wiki 1.0 documentation</title> -->
    <title>Programming</title>
    
    <link rel="stylesheet" href="../../../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Dancing+Script:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Courgette' rel='stylesheet' type='text/css'>
    
    <div class="rduhome"  role="contentinfo">
		 <a href="http://rdu.im" style="font-family: 'Courgette', serif;" >Return to Ruixiang's Home Page</a>
	</div>
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="RDU-Wiki 1.0 documentation" href="../../../index.html" />
    <link rel="next" title="Embedded System" href="../Embedded-System/Embedded-System.html" />
    <link rel="prev" title="Robotics" href="../Robotics/Robotics.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../../../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../Embedded-System/Embedded-System.html" title="Embedded System"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Robotics/Robotics.html" title="Robotics"
             accesskey="P">previous</a> |</li>
        <!-- <li class="nav-item nav-item-0"><a href="../../../index.html">RDU-Wiki 1.0 documentation</a> &raquo;</li> -->
        <li class="nav-item nav-item-0"><a href="../../../index.html">Main Page</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="programming">
<h1>Programming<a class="headerlink" href="#programming" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#computer-systems" id="id1">Computer Systems</a><ul>
<li><a class="reference internal" href="#data-storage" id="id2">Data Storage</a></li>
<li><a class="reference internal" href="#data-representation" id="id3">Data Representation</a></li>
<li><a class="reference internal" href="#bootstrapping" id="id4">Bootstrapping</a></li>
<li><a class="reference internal" href="#reference" id="id5">Reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#operating-systems" id="id6">Operating Systems</a></li>
<li><a class="reference internal" href="#development-tools" id="id7">Development Tools</a><ul>
<li><a class="reference internal" href="#using-gdb-debugger" id="id8">Using GDB Debugger</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="computer-systems">
<span id="computer-hardware"></span><h2><a class="toc-backref" href="#id1">Computer Systems</a><a class="headerlink" href="#computer-systems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-storage">
<h3><a class="toc-backref" href="#id2">Data Storage</a><a class="headerlink" href="#data-storage" title="Permalink to this headline">¶</a></h3>
<div class="section" id="endianness">
<h4><strong>Endianness</strong><a class="headerlink" href="#endianness" title="Permalink to this headline">¶</a></h4>
<p>Big-endian systems store the most significant byte of a word in the smallest address and the least significant byte is stored in the largest address. Little-endian systems, in contrast, store the least significant byte in the smallest address.[1]</p>
<p>For example, there is a number in hexadecimal: 0x01234567, with the most significant byte 0x01 and least significant byte 0x67. It is stored within the address range 0x100 through 0x103.[2]</p>
<p>Big-endian:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Address</th>
<th class="head">0x100</th>
<th class="head">0x101</th>
<th class="head">0x102</th>
<th class="head">0x103</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Value</td>
<td>0x01</td>
<td>0x23</td>
<td>0x45</td>
<td>0x67</td>
</tr>
</tbody>
</table>
<p>Little-endian:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Address</th>
<th class="head">0x100</th>
<th class="head">0x101</th>
<th class="head">0x102</th>
<th class="head">0x103</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Value</td>
<td>0x67</td>
<td>0x45</td>
<td>0x23</td>
<td>0x01</td>
</tr>
</tbody>
</table>
<p>Different processors may follow different conventions. For example the Intel x86 and x86-64 series of processors use the little-endian format while the Motorola 6800 and 68k series of processors use the big-endian format. And newer versions of ARM processors support bi-endian.[1] The most important thing is the consistency. One should keep the used convention in mind when (1) binary data are communicated over a network  between different machines; (2) looking at the byte sequences representing integer data, say inspecting machine-level code generated by a disassembler; (3) programs are written that circumvent the normal type system, say using a data type cast in C.[2]</p>
</div>
</div>
<div class="section" id="data-representation">
<h3><a class="toc-backref" href="#id3">Data Representation</a><a class="headerlink" href="#data-representation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="character-encoding">
<h4><strong>Character Encoding</strong><a class="headerlink" href="#character-encoding" title="Permalink to this headline">¶</a></h4>
<p>ASCII and Unicode standards are most commonly used for text encoding. See more details in [3].</p>
</div>
<div class="section" id="instruction-encoding">
<h4><strong>Instruction Encoding</strong><a class="headerlink" href="#instruction-encoding" title="Permalink to this headline">¶</a></h4>
<p>Instruction codings are usually different across different processors or even the same processor running different operating systems.[2]</p>
</div>
</div>
<div class="section" id="bootstrapping">
<h3><a class="toc-backref" href="#id4">Bootstrapping</a><a class="headerlink" href="#bootstrapping" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://duartes.org/gustavo/blog/post/how-computers-boot-up/">How Computers Boot Up</a></li>
</ul>
</div>
<div class="section" id="reference">
<span id="operating-system"></span><h3><a class="toc-backref" href="#id5">Reference</a><a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Endianness">Endianness in wikipedia</a></li>
<li><a class="reference external" href="http://csapp.cs.cmu.edu">Computer Systems: A Programmer&#8217;s Perspective, 2nd Ed</a></li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Character_encoding">Character Encoding in wikipedia</a></li>
</ol>
</div>
</div>
<div class="section" id="operating-systems">
<h2><a class="toc-backref" href="#id6">Operating Systems</a><a class="headerlink" href="#operating-systems" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://duartes.org/gustavo/blog/post/anatomy-of-a-program-in-memory/">Anatomy of a Program in Memory</a></li>
<li><a class="reference external" href="http://duartes.org/gustavo/blog/post/how-the-kernel-manages-your-memory/">How the Kernel Manages Your Memory</a></li>
</ul>
</div>
<div class="section" id="development-tools">
<h2><a class="toc-backref" href="#id7">Development Tools</a><a class="headerlink" href="#development-tools" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-gdb-debugger">
<h3><a class="toc-backref" href="#id8">Using GDB Debugger</a><a class="headerlink" href="#using-gdb-debugger" title="Permalink to this headline">¶</a></h3>
<p>GDB debugger can be a very powerful tool for finding the cause of unexpected behaviors of your program. In a GDB debugging session, you can step your code by line or by instruction and you can also stop your code at a specific line, a function or an address. When your program stops, you can check the values of the variables at that moment. You can even change a variable as you want. Moreover, it allows you to check the status of the stack and inspect how the function are called. The use of GDB may seem not to be as easy as printf() but it can be much more helpful when you&#8217;re trying to find a deeply hidden bug. Actually it&#8217;s not as difficut to learn as it seems to be.</p>
<p>Here are a few good tutorials to get started:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.cs.umd.edu/~srhuang/teaching/cmsc212/gdb-tutorial-handout.pdf">GDB Tutorial: A Walkthrough with Examples</a></li>
<li><a class="reference external" href="http://www.dirac.org/linux/gdb/index.php">Using GNU&#8217;s GDB Debugger</a></li>
<li><a class="reference external" href="http://heather.cs.ucdavis.edu/~matloff/UnixAndC/CLanguage/Debug.html">Guide to Faster, Less Frustrating Debugging</a></li>
<li><a class="reference external" href="http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html">RMS&#8217;s GDB Debugger Tutorial</a></li>
</ul>
<p>The official manual of GDB can be a good reference after you have already learned the basics and want to check more details of a feature:</p>
<ul class="simple">
<li><a class="reference external" href="https://sourceware.org/gdb/current/onlinedocs/gdb/">GDB Online Manual</a></li>
</ul>
<p>The following are my notes for quick reference of the most frequently used commands. Some of them are from the above materials.</p>
<div class="section" id="background-knowledge">
<h4><strong>Background Knowledge</strong><a class="headerlink" href="#background-knowledge" title="Permalink to this headline">¶</a></h4>
<p>It can be very helpful to understand stack and stack frames when you use GDB for debugging. This <a class="reference external" href="http://www.dirac.org/linux/gdb/02a-Memory_Layout_And_The_Stack.php#wherearewegoingtogo">page</a> from the tutorial &#8220;Using GNU&#8217;s GDB Debugger&#8221; gives good explanation about them.</p>
<p>Briefly speaking, stack is a section of the memory and whenever there is a function call, a stack frame is created in the stack. This stack frame is used to store all related information about this call including the all the <a class="reference external" href="http://en.wikipedia.org/wiki/Automatic_variable">automatic variables</a> of the newly called function, the return address and the arguments of the called function. In GDB, you can check how the functions are called from each other by inspecting the stack frames. By switching to a stack frame, you get access to variables in that scope, meaning you can check the values of local variables in the corresponding function. You cannot print or modify a variable if that variable doesn&#8217;t exit in the current stack frame.</p>
<p>In addition to stack and stack frames, check section <a class="reference internal" href="#operating-system"><em>Reference</em></a> for more information about virtual memory and memory layout.</p>
<p>Another thing that you need to remember before starting a gdb debugging session is that you need to use &#8220;-g&#8221; flag when compiling your code to include debugging information in the generated executable file.</p>
</div>
<div class="section" id="frequently-used-commands">
<h4><strong>Frequently Used Commands</strong><a class="headerlink" href="#frequently-used-commands" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Starting a debugging session</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>gdb &lt;name-of-executable&gt;
<span class="o">(</span>gdb<span class="o">)</span> run arg1 arg2
</pre></div>
</div>
<p>Arg1 and arg2 will be remembered and used when you run again. If you want to reset or clear the arguments, use:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>gdb<span class="o">)</span> <span class="nb">set </span>args &lt;arg1/arg2/.../or none to clear saved args&gt;
</pre></div>
</div>
<p>If your program is already running, you can still use gdb to debug it.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>gdb &lt;name-of-executable&gt; &lt;process-id&gt;
</pre></div>
</div>
<p>Or you can use the attach command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>gdb
<span class="o">(</span>gdb<span class="o">)</span> attach &lt;process-id&gt;
</pre></div>
</div>
<ul class="simple">
<li>Using breakpoints and watchpoints</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>gdb<span class="o">)</span> <span class="nb">break</span> &lt;<span class="k">function</span>-name&gt; <span class="c"># set break point by function name</span>
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">break</span> &lt;line-number&gt;
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">break</span> &lt;file-name:line-number&gt;
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">break</span> &lt;virtual-memory-address&gt;
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">break</span> &lt;place-to-break&gt; <span class="k">if</span> &lt;condition&gt;
<span class="o">(</span>gdb<span class="o">)</span> info breakpoints      <span class="c"># list all all breakpoints and watchpoints</span>
<span class="o">(</span>gdb<span class="o">)</span> disable n             <span class="c"># n is the breakpoint/watchpoint identifier number from listed info</span>
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">enable </span>n
<span class="o">(</span>gdb<span class="o">)</span> clear &lt;<span class="k">function</span>-name&gt;/&lt;line-number&gt;/&lt;file-name:line-number&gt;/&lt;virtual-memory-address&gt;
<span class="o">(</span>gdb<span class="o">)</span> delete &lt;breakpoint-identifier&gt;
<span class="o">(</span>gdb<span class="o">)</span> delete                <span class="c"># delete all breakpoints</span>
<span class="o">(</span>gdb<span class="o">)</span> <span class="k">continue</span>              <span class="c"># continue execution from breakpoint</span>
</pre></div>
</div>
<ul class="simple">
<li>Manipulating variables</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>gdb<span class="o">)</span> ptype &lt;var-name&gt;      <span class="c"># print data type</span>
<span class="o">(</span>gdb<span class="o">)</span> print &lt;var-name&gt;      <span class="c"># print data value</span>
<span class="o">(</span>gdb<span class="o">)</span> print /FMT &lt;var-name&gt; <span class="c"># o:octal,x:hex,d:decimal,u:unsigned decimal,t:binary,  f:float,a:address,c:char</span>
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">set</span> &lt;var-name&gt; <span class="o">=</span> &lt;new-value&gt;
<span class="o">(</span>gdb<span class="o">)</span> print &lt;var-name&gt; <span class="o">=</span> &lt;new-value&gt;
</pre></div>
</div>
<ul class="simple">
<li>Stepping and resuming program</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>gdb<span class="o">)</span> step                  <span class="c"># step by line</span>
<span class="o">(</span>gdb<span class="o">)</span> istep                 <span class="c"># step by instruction</span>
<span class="o">(</span>gdb<span class="o">)</span> next                  <span class="c"># continue to next line in current stack frame (including function)</span>
<span class="o">(</span>gdb<span class="o">)</span> <span class="k">continue</span>
<span class="o">(</span>gdb<span class="o">)</span> where                 <span class="c"># show current line number</span>
<span class="o">(</span>gdb<span class="o">)</span> list &lt;none&gt;/&lt;line-num&gt;/&lt;range&gt;/&lt;<span class="k">function</span>-name&gt;/&lt;*address&gt;
</pre></div>
</div>
<ul class="simple">
<li>Checking stack and stack frames</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>gdb<span class="o">)</span> backtrace             <span class="c"># display the current stack status</span>
<span class="o">(</span>gdb<span class="o">)</span> frame                 <span class="c"># show current stack frame</span>
<span class="o">(</span>gdb<span class="o">)</span> frame &lt;frame-num&gt;     <span class="c"># switch to frame &lt;frame-num&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Programming</a><ul>
<li><a class="reference internal" href="#computer-systems">Computer Systems</a><ul>
<li><a class="reference internal" href="#data-storage">Data Storage</a><ul>
<li><a class="reference internal" href="#endianness"><strong>Endianness</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-representation">Data Representation</a><ul>
<li><a class="reference internal" href="#character-encoding"><strong>Character Encoding</strong></a></li>
<li><a class="reference internal" href="#instruction-encoding"><strong>Instruction Encoding</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#bootstrapping">Bootstrapping</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#operating-systems">Operating Systems</a></li>
<li><a class="reference internal" href="#development-tools">Development Tools</a><ul>
<li><a class="reference internal" href="#using-gdb-debugger">Using GDB Debugger</a><ul>
<li><a class="reference internal" href="#background-knowledge"><strong>Background Knowledge</strong></a></li>
<li><a class="reference internal" href="#frequently-used-commands"><strong>Frequently Used Commands</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Robotics/Robotics.html"
                        title="previous chapter">Robotics</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../Embedded-System/Embedded-System.html"
                        title="next chapter">Embedded System</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../Embedded-System/Embedded-System.html" title="Embedded System"
             >next</a> |</li>
        <li class="right" >
          <a href="../Robotics/Robotics.html" title="Robotics"
             >previous</a> |</li>
        <!-- <li class="nav-item nav-item-0"><a href="../../../index.html">RDU-Wiki 1.0 documentation</a> &raquo;</li> -->
        <li class="nav-item nav-item-0"><a href="../../../index.html">Main Page</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Ruixiang Du.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-67949307-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <!-- <title>Build Your Own Quadrotor &mdash; RDU-Wiki 1.0 documentation</title> -->
    <title>Build Your Own Quadrotor</title>
    
    <link rel="stylesheet" href="../../../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Dancing+Script:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Courgette' rel='stylesheet' type='text/css'>
    
    <div class="rduhome"  role="contentinfo">
		 <a href="http://rdu.im" style="font-family: 'Courgette', serif;" >Return to Ruixiang's Home Page</a>
	</div>
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="RDU-Wiki 1.0 documentation" href="../../../index.html" />
    <link rel="next" title="Mobile Robot Toolkit" href="../Mobile-Robot-Toolkit/Mobile-Robot-Toolkit.html" />
    <link rel="prev" title="Autonomous RC Car" href="../Autonomous-RC-Car/auto-racing.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../../../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../Mobile-Robot-Toolkit/Mobile-Robot-Toolkit.html" title="Mobile Robot Toolkit"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Autonomous-RC-Car/auto-racing.html" title="Autonomous RC Car"
             accesskey="P">previous</a> |</li>
        <!-- <li class="nav-item nav-item-0"><a href="../../../index.html">RDU-Wiki 1.0 documentation</a> &raquo;</li> -->
        <li class="nav-item nav-item-0"><a href="../../../index.html">Main Page</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="build-your-own-quadrotor">
<h1>Build Your Own Quadrotor<a class="headerlink" href="#build-your-own-quadrotor" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#hardware-components" id="id1">1. Hardware Components</a></li>
<li><a class="reference internal" href="#software-structure" id="id2">2. Software Structure</a></li>
<li><a class="reference internal" href="#interface-with-sensors" id="id3">3. Interface with Sensors</a></li>
<li><a class="reference internal" href="#the-completed-quadrotor" id="id4">4. The Completed Quadrotor</a></li>
</ul>
</div>
<p>(Updated on 01/04/2017)</p>
<p>Here is a summary of how I built my quadrotors. The primary use of these quadrotors includes: flying for fun, autonomous flight for research. You may find configurations specialized for other purposes somewhere else from the Internet.</p>
<div class="section" id="hardware-components">
<h2><a class="toc-backref" href="#id1">1. Hardware Components</a><a class="headerlink" href="#hardware-components" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Hardware</dt>
<dd><ul class="first last simple">
<li>Flight controller * 1</li>
<li>(Companion computer * 1)</li>
<li>250 frame * 1</li>
<li>DC brushless motors * 4</li>
<li>ESC for brushless motors * 4</li>
<li>Power distribution and BEC * 1</li>
<li>LiPo Battery (3S or 4S)</li>
<li>Radio receiver and remote controller</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>There are a lot of possible choices for flight controllers nowadays. I personally own OpenPilot Revolution, Pixracer and BrainFPV RE1. All these boards are based on STM32F4 MCUs and have reasonably rich hardware interfaces exposed, which allows you to add more extension modules. The main advantages of Pixracer and the PX4 software stack are its large user community and support for a large number of peripheral modules. But the downside is that the software packages (including firmware, GCS, ROS etc.) have become very large and can be confusing sometimes for you to fully understand (especially if you may also come across packages from the APM project). The code base for the OpenPilot-rooted project (librepilot, taulabs, dRonin) is relatively smaller and cleaner. The design of GCS is also very intuitive and user-friendly.</p>
<p>You also have a lot of choices for motors and ESCs from websites like Hobbyking and getFPV. I recently tried the DJI snail propulsion system. I have to say that I love this set of motors/ESCs. They are well-made, very powerful and well documented (for those who want to know better about the characteristics of the motors and propellers). And the price is very reasonable for its quality.</p>
</div>
<div class="section" id="software-structure">
<h2><a class="toc-backref" href="#id2">2. Software Structure</a><a class="headerlink" href="#software-structure" title="Permalink to this headline">¶</a></h2>
<p><strong>Low level flight controller</strong></p>
<ul class="simple">
<li>Acquire sensor data (IMU)</li>
<li>Flight attitude/position control</li>
<li>Motor control</li>
<li>Telemetry</li>
</ul>
<p><strong>High level controller</strong></p>
<ul class="simple">
<li>Computer vision</li>
<li>Motion planning</li>
</ul>
<p><strong>Workstation</strong></p>
<ul class="simple">
<li>System monitoring</li>
<li>Debugging</li>
</ul>
</div>
<div class="section" id="interface-with-sensors">
<h2><a class="toc-backref" href="#id3">3. Interface with Sensors</a><a class="headerlink" href="#interface-with-sensors" title="Permalink to this headline">¶</a></h2>
<p>There are generally two protocols widely used to interface with sensors like MPU9250, SPI or I2C. Since SPI is simpler in terms of signal timing (it uses more pins though) and more importantly much faster than I2C, it gets used in more and more recent flight controllers.</p>
<p>For digital sensors like MPU9250, the first step is to establish the communication between the MCU and the sensor. It can be very helpful at this time to use a logic analyzer if you cannot find out problems in your code that cause a communication failure.</p>
<a class="reference internal image-reference" href="../../../_images/mpu9250_whoami.jpg"><img alt="../../../_images/mpu9250_whoami.jpg" src="../../../_images/mpu9250_whoami.jpg" style="width: 650px;" /></a>
<p>The internal register WHO_AM_I of MPU9250 can be used to check the communication. The above screenshot is captured by a logic analyzer, showing this &#8220;handshake&#8221;: MCU sends the address of WHO_AM_I (0x80 | 0x75 = 0xF5 for reading from register) and gets 0x71 as a reply.</p>
<p>After the communication is set up properly, we can further configure the registers of MPU9250, like enabling/disabling gyro/acc, selecting full scale of gyro/acc and so on. You can refer to specific datasheet for more details of each sensor model.</p>
</div>
<div class="section" id="the-completed-quadrotor">
<h2><a class="toc-backref" href="#id4">4. The Completed Quadrotor</a><a class="headerlink" href="#the-completed-quadrotor" title="Permalink to this headline">¶</a></h2>
<p>(Updated on 01/23/2016)</p>
<p>I finally get enough time and money to get all parts to build a complete quadrotor. I choose the CC3D Revolution flight controller since it has a very small foot print and uses similar chips as what I&#8217;ve partially tested before. All parts are selected according to the specifications of commonly seen FPV racing quadrotors. I did a lot of research to find a balance between the performance and my budget when choosing each component. The total cost of the quadrotor and necessary accessories is about $500 dollars.</p>
<a class="reference internal image-reference" href="../../../_images/quad250.JPG"><img alt="../../../_images/quad250.JPG" src="../../../_images/quad250.JPG" style="width: 650px;" /></a>
<p>The second build is improved in the following aspects:</p>
<ul class="simple">
<li>Better quality frame: <a class="reference external" href="http://mokaframe.com/moka-deluxe">Moka Delux</a> vs <a class="reference external" href="https://hobbyking.com/en_us/kim250-pro-fpv-multrotor-with-pcb.html">Kim250 Pro</a></li>
<li>Better motor/ESC: DJI Snail vs Multistar Elite 2306-2150KV &#8216;MINI MONSTER&#8217; + Afro Race Spec Mini 20Amp</li>
<li>Better wire management</li>
</ul>
<a class="reference internal image-reference" href="../../../_images/quad250-2.jpg"><img alt="../../../_images/quad250-2.jpg" src="../../../_images/quad250-2.jpg" style="width: 650px;" /></a>
<p>(I know it&#8217;s generally recommended to put the two antenas at 90 degrees. But I hadn&#8217;t found a good way to mount them in such configuration when I took this photo.)</p>
<p>(Updated on 10/02/2017)</p>
<p>More quadrotors (size 250, 150, 130, 90)</p>
<a class="reference internal image-reference" href="../../../_images/quad_family.jpg"><img alt="../../../_images/quad_family.jpg" src="../../../_images/quad_family.jpg" style="width: 650px;" /></a>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Build Your Own Quadrotor</a><ul>
<li><a class="reference internal" href="#hardware-components">1. Hardware Components</a></li>
<li><a class="reference internal" href="#software-structure">2. Software Structure</a></li>
<li><a class="reference internal" href="#interface-with-sensors">3. Interface with Sensors</a></li>
<li><a class="reference internal" href="#the-completed-quadrotor">4. The Completed Quadrotor</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Autonomous-RC-Car/auto-racing.html"
                        title="previous chapter">Autonomous RC Car</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../Mobile-Robot-Toolkit/Mobile-Robot-Toolkit.html"
                        title="next chapter">Mobile Robot Toolkit</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../Mobile-Robot-Toolkit/Mobile-Robot-Toolkit.html" title="Mobile Robot Toolkit"
             >next</a> |</li>
        <li class="right" >
          <a href="../Autonomous-RC-Car/auto-racing.html" title="Autonomous RC Car"
             >previous</a> |</li>
        <!-- <li class="nav-item nav-item-0"><a href="../../../index.html">RDU-Wiki 1.0 documentation</a> &raquo;</li> -->
        <li class="nav-item nav-item-0"><a href="../../../index.html">Main Page</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, Ruixiang Du.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>